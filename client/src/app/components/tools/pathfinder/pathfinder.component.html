<div class="flex flex-col h-full">
  <div class="flex flex-row justify-end gap-3 py-3">
    <button mat-flat-button (click)="onCreateBoard()">
      <mat-icon>add</mat-icon>
      Create New Board
    </button>
    <button mat-flat-button (click)="onSave()">
      <mat-icon>save</mat-icon>
      Save
    </button>
    <button mat-flat-button (click)="onLoad()">
      <mat-icon>upload_file</mat-icon>
      Load
    </button>
  </div>

  @if(hasBoard()) {
  <div class="grid-container" (touchstart)="onTouchStart($event)" (touchmove)="onTouchMove($event)" (touchend)="onTouchEnd($event)">
    <div
      class="grid"
      (wheel)="onScroll($event)"
      [style.--pathfinder-tile-size]="tileSize() + 'px'"
      [style.--pathfinder-columns]="boardCols()"
      [style.--pathfinder-rows]="boardRows()">
      @for(row of board(); track $index) { @for(tile of row; track columnTrack(tile)) {
      <app-pathfinder-tile [tile]="tile"></app-pathfinder-tile>
      } }
    </div>
  </div>
  }
</div>
