<div class="flex flex-col justify-center items-center">
  <form class="flex justify-center items-center w-full" [formGroup]="filterForm()">
    <mat-form-field class="page-search">
      <mat-label>Search</mat-label>
      <input matInput placeholder="Ex. Discord" maxlength="1024" formControlName="filter" />
      <button matSuffix mat-icon-button aria-label="Clear" (click)="onResetForm()">
        <mat-icon>close</mat-icon>
      </button>
      <mat-error>Invalid Search Filter</mat-error>
    </mat-form-field>
  </form>

  <div class="flex flex-wrap gap-3 justify-center">
    @for(category of linksByCategory(); track category.id) {

    <mat-card class="w-full max-w-96" appearance="outlined" routerLink="/link-library">
      <mat-card-header>
        <mat-card-title>{{ category.name }}</mat-card-title>
        <mat-card-subtitle>{{ category.description }}</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <div class="flex flex-col justify-center items-center p-3 gap-3">
          @for(link of category.links; track link.id) {
          <div class="flex w-full">
            <a mat-flat-button class="link-button" [href]="link.url" target="_blank">{{ link.name }}</a>
            <button mat-icon-button color="basic" class="icon-button ml-1" (click)="onOpenInfo(link)">
              <mat-icon>more_vert</mat-icon>
            </button>
          </div>
          }
        </div>
      </mat-card-content>
    </mat-card>
    }
  </div>
</div>
