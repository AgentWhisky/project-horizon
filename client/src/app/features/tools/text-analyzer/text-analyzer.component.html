<div class="flex flex-col gap-3">
  <div class="text-input-tile">
    <div class="flex flex-row gap-3">
      <mat-form-field class="w-full">
        <mat-label>Text Input</mat-label>
        <textarea matInput #textAnalyzeInput [(ngModel)]="textInput"></textarea>
        <mat-hint>Character Count: {{ textAnalyzeInput.textLength }} </mat-hint>
        <mat-hint align="end">Words: {{ wordCount() }} </mat-hint>
      </mat-form-field>
      <div class="flex flex-col">
        <button mat-icon-button class="icon-button" matTooltip="Clear" (click)="onResetTextInput()"><mat-icon>clear</mat-icon></button>
        <button mat-icon-button class="icon-button" matTooltip="Copy" (click)="onCopyTextInput()">
          <mat-icon>content_copy</mat-icon>
        </button>
      </div>
    </div>
    <mat-slide-toggle [(ngModel)]="caseSensitive"> Case Sensitive</mat-slide-toggle>
  </div>

  @if(textInput()) {
  <div class="hz-card w-full items-center p-3">
    <table class="w-96" mat-table [dataSource]="charBreakdownDataSource" matSort #charBreakdownSort="matSort" class="mat-elevation-z8">
      <ng-container matColumnDef="character">
        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by character">Character</th>
        <td mat-cell *matCellDef="let element">{{ element.character }}</td>
      </ng-container>

      <ng-container matColumnDef="count">
        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by count">Count</th>
        <td mat-cell *matCellDef="let element">{{ element.count }}</td>
      </ng-container>

      <ng-container matColumnDef="percent">
        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by percent">Percent</th>
        <td mat-cell *matCellDef="let element">{{ element.percent }}%</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="charBreakdownDisplayedColumns"></tr>
      <tr mat-row class="table-row" *matRowDef="let row; columns: charBreakdownDisplayedColumns"></tr>
    </table>
  </div>
  }
</div>
