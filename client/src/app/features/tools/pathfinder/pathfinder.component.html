<div class="flex flex-col">
  <hz-status-banner message="This page is still under development and may not function correctly" type="warning"></hz-status-banner>

  <div class="flex flex-row justify-end gap-3 py-3">
    <button mat-mini-fab (click)="onCreateBoard()" matTooltip="Create New Board" aria-label="Create new pathfinder board">
      <mat-icon>add</mat-icon>
    </button>
    <button mat-mini-fab (click)="onSave()" matTooltip="Save Pathfinder Board" aria-label="Save pathfinder board">
      <mat-icon>save</mat-icon>
    </button>
    <button mat-mini-fab (click)="onLoad()" matTooltip="Load Pathfinder Board" aria-label="Load pathfinder board">
      <mat-icon>upload_file</mat-icon>
    </button>
  </div>

  @if(hasBoard()) {
  <div class="grid-container" (touchstart)="onTouchStart($event)" (touchmove)="onTouchMove($event)" (touchend)="onTouchEnd($event)">
    <div
      class="grid"
      (wheel)="onScroll($event)"
      [style.--pathfinder-tile-size]="tileSize() + 'px'"
      [style.--pathfinder-columns]="boardCols()"
      [style.--pathfinder-rows]="boardRows()">
      @for(row of board(); track $index) { @for(tile of row; track columnTrack(tile)) {
      <app-pathfinder-tile [tile]="tile"></app-pathfinder-tile>
      } }
    </div>
  </div>
  } @else {
  <app-message-card message="No board found. Please create a board."></app-message-card>
  }
</div>
