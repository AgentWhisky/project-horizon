@let dashboard = dashboardInfo();

<div class="flex flex-col gap-3">
  <hz-breadcrumb [items]="breadcrumbItems"></hz-breadcrumb>

  <!-- LOAD SUCCESS -->
  @if(dashboard && loadingState.isSuccess()) {
  <div class="w-full flex flex-col gap-3">
    <hz-card class="max-w-96">
      <hz-card-header>App Settings</hz-card-header>
      <hz-card-body>
        <div class="display-text w-full">
          <span>Account Creation Code:</span>
          <span class="text-right">
            {{ dashboard.creationCode }}
          </span>
          <div class="flex flex-row">
            <button matIconButton (click)="onCopyToClipboard(dashboard.creationCode)" aria-label="Copy clipboard">
              <mat-icon>content_copy</mat-icon>
            </button>

            <button matIconButton (click)="onRefreshCreationCode()" aria-label="Refresh creation code">
              <mat-icon>refresh</mat-icon>
            </button>
          </div>
        </div>
      </hz-card-body>
    </hz-card>
  </div>
  }

  <!-- LOAD IN-PROGRESS -->
  @else if (loadingState.isLoading()) {
  <hz-loading-spinner text="Loading Horizon Dashboard..."></hz-loading-spinner>
  }

  <!-- LOAD FAILURE -->
  @else if(loadingState.isFailed()) {
  <hz-banner type="error">
    <hz-banner-header>{{ loadingState.errorMessage()?.header }}</hz-banner-header>
    <hz-banner-body>{{ loadingState.errorMessage()?.body }}</hz-banner-body>
  </hz-banner>
  }
</div>
